# LobotomyVR
<img width="401" alt="LobotomyVR_Image" src="https://github.com/user-attachments/assets/3da88597-eba7-4638-9dcc-ee01b1dad83a" />
</br>
환상체를 관리하고 생존하세요!
마을을 지켜주세요!<br>
**Lovotomy VR**는 인기 인디게임 ‘로보토미 코퍼레이션’을 VR로 재해석한 팬 게임입니다. 기존 2D 탑다운 시뮬레이션과 달리, VR에서는 플레이어가 실제로 시설 내를 움직이고, 관리법을 직접 수행하며, 환상체의 탈출이나 직원의 사망 등 위기 상황을 몰입감 있게 경험할 수 있습니다. 환상체마다 고유 관리법이 존재하고, 이를 지키지 않으면 탈출 사태가 발생해 플레이어는 에너지 할당량을 채우는 동시에 직원 피해를 최소화해야 합니다.

## 주요 기능 (Key Features)

- **관리실/환상체 연동 시스템**  
  - 확장성 높은 FSM을 사용하여 플레이어를 추격/공격하는 적 AI 구현  
  - 적의 상태(예: 무기 보유 여부)에 따라 다른 행동을 수행, 각 부위에 콜라이더 및 데미지 계수를 설정하여 명중 위치에 따라 피해량 차등 적용

- **다양한 환상체**  
  - Pistol, Machine Gun, Grenade 등 다양한 적 공격 수단 구현  
  - 힐팩, 탄창, 총알, 적 등 다양한 상호작용 요소

- **직원**  
  - 각 패턴은 개별 쿨타임을 가지며, LINQ를 활용해 쿨타임이 끝난 패턴만 선택적으로 발동하도록 구현

- **맵 기믹**  
  - 사용 시 잔상 이펙트(Mesh 베이킹), 화면 연출, Time.timeScale 조절로 슬로우 효과 연출

- **버튼, 문**  
  - VR 컨트롤러의 위치와 회전을 기반으로 캐릭터 양손이 자연스럽게 따라가도록 구현  
  - 손에 **IK**를 적용하여 플레이어의 몰입감을 극대화함

- **환상체 도감**  
  - VR 컨트롤러의 위치와 회전을 기반으로 캐릭터 양손이 자연스럽게 따라가도록 구현  
  - 손에 **IK**를 적용하여 플레이어의 몰입감을 극대화함

- **사이렌**  
  - VR 컨트롤러의 위치와 회전을 기반으로 캐릭터 양손이 자연스럽게 따라가도록 구현  
  - 손에 **IK**를 적용하여 플레이어의 몰입감을 극대화함

## 플레이 방법 (How to Play)

1. **게임 설치 및 실행**  
   - PC에 게임을 설치하고 실행합니다.

2. **메뉴 화면**  
   - 게임 시작 시 총을 집고 플레이 버튼을 사격합니다.

3. **인 게임**  
   - 몰려오는 적을 막으며 최대한 높은 점수를 얻으세요!

## 개발 환경 (Development Environment)

| 항목         | 내용      |
|--------------|-----------|
| Engine       | Unity 3D  |
| Language     | C#        |
| Platform     | PC        |
| Dependencies | Oculus    |

## 다양한 환상체 및 상호작용

### 플레이어 핸드 트래킹 텔레포트, 포크 인터렉션



- 플레이어의 손을 트래킹하여 텔레포트 할 수 있음
- 버튼 등의 포크 인터렉션 상호작용을 통해 문을 여닫는 등 다양한 상호작용 가능능

### 다양한 상호작용 가능 환상체



- 작업 중 환상체 종류에 따라 다양한 상호작용 가능
- 상호작용에 따라 환상체 탈출 가능
- 탈출한 환상체는 개체별 다른 행동을 취함
- 환상체 종류에 따른 다양한 대처법 구현  

## 기획

### 시장성

- VR 내 시뮬레이션 장르는 전체 VR보다 성장률이 다소 낮지만(약 9~28%), 꾸준한 수요와 함께 틈새 시장을 형성  
- VR 호러 장르는 *Phasmophobia*, *Resident Evil 7* 등 히트작의 성공으로 시장 내 강세  
- *Lobotomy Corporation*은 국내외에서 100만 장 이상 판매된 인기 인디게임으로, ‘Library of Ruina’, ‘Limbus Company’ 등 세계관이 확장된 마니아층이 두텁다

### 차별성

- 기존 2D 탑다운 시뮬레이션과 달리, VR에서는 플레이어가 실제로 시설 내를 움직이고, 관리법을 직접 수행할 수 있음  
- 기존 VR 공포게임 다수가 1인칭 탐험·탈출 위주라면, *Lobotomy Corporation VR*은 ‘경영 시뮬레이션+호러’라는 독특한 조합  
- 실시간 위기 통제와 몰입감, 전략성을 동시에 제공

## 담당한 부분

### 관리실/환상체

- 관리실에는 하나의 환상체가 연동되어 있으며, 플레이어가 입장할 시 인터페이스를 사용해서 환상체에게 플레이어 입장을 알림
- 환상체가 탈출하면 자동으로 문이 열리며, 제압 시 환상체를 리셋하는 기능 보유

#### 환상체

- 관리실 입장 시 평범한 방법으로 나갈 수 없으며, 작업을 완수해야 나갈 수 있음
- 본능, 통찰 작업을 할 수 있으며, 작업 종료/중 행동에 따라 결과 결정
- 작업 결과는 중앙 TV에 표시, 하루 할당치 에너지에 (결과 * 환상체) 등급으로 에너지 충전
- 특정 조건/작업 결과에 따라 환상체가 탈출, 개체별로 다른 기준으로 적을 추격
- 탈출 시 작업 불가, 사이렌 울림
- 제압 시 사이렌 멈추고, 몇 초 뒤 관리실로 복귀
### 환상체 종류
<img width="464" alt="image" src="https://github.com/user-attachments/assets/1e540424-8eb0-4d0e-901e-fc7dd54e53ab" />
<img width="463" alt="image" src="https://github.com/user-attachments/assets/6006efd2-f013-4654-80b1-40aef72701b9" />



#### 직원

- 평소 대기 상태, 메인룸에 적이 들어오면 자동 공격
- 공격 받을 때마다 정신력, 체력 감소
- 정신력이 일정 이하일 시 패닉 상태로 도망, 체력이 일정 이하일 시 사망

#### 맵 기믹

- 직원 배치, 에너지 양 표시 중앙실, 버튼으로 문을 여닫는 좌/우 복도, 환상체 방
- 포크 인터렉션으로 직접 버튼 누름, 문이 열리고 닫힘
- 환상체 탈출 시 자동으로 복도 문 열림, 사이렌 울림(시각·청각 임팩트)
- 버튼으로 다음 페이지 이동, 환상체 정보/타입/작업 규칙 확인 가능한 도감

## 문제 해결 경험

- **OnBecameInvisible 콜백 함수**  
  파고드는 천국 환상체 구현 시 OnBecameInvisible 콜백 함수를 사용  
  - 씬/게임 뷰에 보이면 작동하지 않거나 사물에 가려지는 것은 포함하지 않는 문제 발생  
  - 함수 원리 학습 후 문제 해결

```csharp
파고드는 천국 환상체를 구현할때 OnBecameInvisible 콜백 함수를 사용하였는데
함수를 사용할때 씬, 게임 뷰에 보이면 작동 안하는 것,
사물에 가려지는 것은 포함하지 않는다는 것을 모르고 작업하여 문제가 있었습니다.
OnBecameInvisible 함수를 공부하여 작동 원리를 알게 되었고 문제를 해결하였습니다.
```

## 기술/설계

### 스택 선택의 이유

| 사용 스택   | 선택한 스택         | 선정 이유                                                        |
|-------------|--------------------|------------------------------------------------------------------|
| 게임 엔진   | 유니티 3.17        | 캐쥬얼하게 만들어야 하기 때문에 무거운 언리얼보다 가볍고 여러 플랫폼이 가능한 유니티 선택 |
| IDE         | Rider              | 탁월한 코드 분석 및 비효율적 코드 수정 지원, 작업 능률 향상                      |
| VR 패키지   | Meta All in one SDK| VR의 다양한 기능을 빠르게 구현 가능                               |

## 기타

- 초기에는 VR로 원작과 같이 탑다운 방식의 게임 개발 → 재미 부족으로 폐기, 새로 제작  
- 프로젝트 문 게임을 좋아하다 보니 고증 구현에 열정  
- 시야 처리를 주로 사용하던 Ray 대신 OnBecame 콜백 함수 사용, 관련 공부 진행  
- 시간 부족으로 환상체 선택 기능, 직원 자동 업무 기능 미구현(추후 업데이트 예정)  
- 직원 자동 업무를 통해 플레이어가 직접 업무를 하지 않아도 환상체 조우, 시련 등 재미 요소 기대

## 성과

- 게임 코스 수행평가 점수 100점 달성



## 참고 자료

- Notion: https://buly.kr/2JoQDvx  
- 참고 영상: https://buly.kr/DEZA0Ok  
- 시연 영상: https://youtu.be/bwljYmrT55c  
- 발표 PPT: https://docs.google.com/presentation/d/14YBPuVuJRxeenk4AJxNM3Sm3Myu6Pri0/edit?usp=sharing&ouid=117444794919235435064&rtpof=true&sd=true

## 라이선스 (License)

이 프로젝트는 MIT 라이선스 하에 배포됩니다. 자세한 내용은 `LICENSE` 파일을 참조하세요.
